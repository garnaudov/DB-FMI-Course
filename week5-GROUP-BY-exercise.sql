--Групиране
--Упражнения
--I. За базата от данни PC
--1. Напишете заявка, която извежда средната честота на персоналните компютри.
--2. Напишете заявка, която извежда средния размер на екраните на лаптопите за
--всеки производител.
--3. Напишете заявка, която извежда средната честота на лаптопите с цена над 1000.
--4. Напишете заявка, която извежда средната цена на персоналните компютри,
--произведени от производител ‘A’.
--5. Напишете заявка, която извежда средната цена на персоналните компютри и
--лаптопите за производител ‘B’.
--6. Напишете заявка, която извежда средната цена на персоналните компютри
--според различните им честоти.
--7. Напишете заявка, която извежда производителите, които са произвели поне 3
--различни персонални компютъра (с различен код).
--8. Напишете заявка, която извежда производителите с най-висока цена на
--персонален компютър.
--9. Напишете заявка, която извежда средната цена на персоналните компютри за
--всяка честота по-голяма от 800.
--10.Напишете заявка, която извежда средния размер на диска на тези персонални
--компютри, произведени от производители, които произвеждат и принтери.
--Резултатът да се изведе за всеки отделен производител.
--II. За базата от данни SHIPS
USE ships;
--1. Напишете заявка, която извежда броя на класовете бойни кораби.
--2. Напишете заявка, която извежда средния брой оръдия за всеки клас боен кораб.
--3. Напишете заявка, която извежда средния брой оръдия за всички бойни кораби.
--4. Напишете заявка, която извежда за всеки клас първата и последната година, в
--която кораб от съответния клас е пуснат на вода.
--5. Напишете заявка, която извежда броя на корабите, потънали в битка според
--класа.
--6. Напишете заявка, която извежда броя на корабите, потънали в битка според
--класа, за тези класове с повече от 2 кораба.

SELECT *
FROM ships;

--класове кораби с повече от 2 кораба
SELECT class, COUNT(*)
FROM ships
GROUP BY class
HAVING COUNT(*) > 2;

--потънали
 SELECT *
 FROM outcomes
 WHERE result = 'sunk'

 SELECT class, COUNT(*)
 FROM ships
 WHERE name IN (
	 SELECT ship
	 FROM outcomes
	 WHERE result = 'sunk'
 ) AND class IN (
	SELECT class
	FROM ships
	GROUP BY class
	HAVING COUNT(*) > 2
 ) GROUP BY class;

--7. Напишете заявка, която извежда средния калибър на оръдията на корабите за
--всяка страна.